<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.cn/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.cn/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css"> -->
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./css/Projects.css">
    <!-- <script src="/vue/vue.js"></script> -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./js/loginstate.js"></script>
    <script src="./css/Projects.css"></script>
    <title>Project Showcase</title>
    <link rel="icon" href="./images/uoa-logo.jpg" id="icon">  </link>
</head>
<body>
    <div id="backtop">
        <a href="#top"><img src="./images/rocket.svg" alt="backtop"></a>
    </div>
    <header class="header">
        <section id="top" class="top-nav">
            <div class="left-menu col-md-8 ">
                <img src="./images/uoa-logo.jpg" alt="logo">
                
                <a href="./Home.html">Home</a>
                <a href="javascript:;">About us</a>
                <a href="./Projects.html"><button class="btn">Project</button></a>
                <a href="./login.html" id="login">Log in</a>
                <a href="./space.html" id="space">My Space</a>   
                          
                
            </div>
            <div class="search-wrap">
                <div>
                    <input type="text" placeholder="Search Projects">
                    <img src="./images/Search.svg" alt="Search">
                </div>
                <a href="javascript:;" id="signout"><button class="btn" onclick="signout()">Sign Out</button></a>
            </div>
        </section>
        <section id="pjsearch">
            <div id="pjsearchtext">
                <h1 class="col-md-10">Search Projects from Portfolio</h1>
                <a type="button" class="btn btn-info col-md-2" href="./PJUpload.html">Upload Project</a>
            </div>
            <div id="pjsearchbar">
                <input type="text" class="form-control" placeholder="Search Projects With Key Words" aria-describedby="basic-addon1" id="keywords" @input="searchpj"> 
                <!-- <ul>
                    <li v-for="pj in pjs" >
                        {{ pj.text }}            
                    </li>
                </ul> -->

            </div>
        </section>
    </header>
    <script>
        let sc = Vue.createApp({
                data(){
                    return{
                        
                    }
                },
                methods:{
                    searchpj(){
                        document.getElementById("actiontext").innerText = "Newest";
                        pj.page = 1;
                        document.getElementById("load").style.display = "none";
                        var key = document.getElementById("keywords").value;
                        if(key.length == ""){
                            pj.getNewpj();
                        }else{
                            axios.get("project/getProjectsByPname?pname="+key)
                            .then(function(response){
                                document.getElementById("pjlist").innerHTML="";
                                var data = response.data;
                                for(let i=0; i<response.data.length; i++){
                                    var pjId = data[i].ID;
                                    var pname = data[i].pname;
                                    var cover = data[i].coverImage;
                                    var uuid = data[i].owner;
                                    var like = data[i].likeamount;
                                    var uname = data[i].username;
                                    var comment = data[i].comment;
                                    var award = data[i].award;
                                    var li = document.createElement("li");
                                    if(cover == null || cover == "https://api.crya.me/undefined"){
                                        cover = "./images/uoa-logo.jpg";
                                    }
                                    if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                    }else{
                                        li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                    }                                    
                                    document.getElementById("pjlist").appendChild(li);
                                    
                                    }
                            })
                            .catch(function (error) {
                                console.log(error);
                            });

                        }
                        
                    }
                    
                    
                },
                mounted(){
                    

                }
            }).mount('.header')
    </script>
    <main class="main">
        <nav id="selectbar">
            <ul>
                <li id="lall"><a href="javascript:;" @click="getNewpj" id="all">ALL</a></li>
                <li id="ljava"><a href="javascript:;" @click="getSkillpj" id="java">Java</a></li>
                <li id="lpython"><a href="javascript:;" @click="getSkillpj" id="python">Python</a></li>
                <li id="lphp"><a href="javascript:;" @click="getSkillpj" id="php">PHP</a></li>
                <li id="lgo"><a href="javascript:;" @click="getSkillpj" id="go">Go</a></li>
                <li id="lhtml"><a href="javascript:;" @click="getSkillpj" id="html">HTML</a></li>
                <!-- <li><a href="#">Linux</a></li>
                <li><a href="#">sadasd</a></li>
                <li><a href="#">asdasd</a></li>
                <li><a href="#">sadasd</a></li>
                <li><a href="#">sadasd</a></li> 
            </ul>-->
            
        </nav>
        <div class="mainbody">
            <div class=".container">
                <section class="mainleft col-md-10">
                    <div class="actionBar">
                        <div class="Explore-container">
                            <a href="javascript:;">
                                <img src="./images/Explore.svg" alt="Java_logo">
                                <h3>&nbsp; Explore</h3>
                            </a>
                        </div>
                        <div class="btn-group">
                            <button type="button" class="btn btn-info" id="actiontext">Newest</button>
                            <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu">
                            <li><a href="javascript:;" @click="getNewpj" id="newest">Newest</a></li>
                            <li><a href="javascript:;" @click="getOldpj" id="oldest">Oldest</a></li>
                            <li><a href="javascript:;" @click="getPoppj" id="popular">Popular</a></li>
                            <!-- <li role="separator" class="divider"></li>
                            <li><a href="javascript:;">Separated link</a></li> -->
                            </ul>
                      </div>
                    </div>
                    
                    <ul id="pjlist">
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                        <li><a href="#"><img src="./images/Java_logo.svg" alt=""><p><span class="glyphicon glyphicon-heart">500 </span></p><p>Project Name</p></a></li>
                    </ul>
                    <div class="loadmore">
                        <button type="button" class="btn btn-default" id="load" @click="loadmore"><p class="glyphicon glyphicon-repeat"> Load More </p></button>
                    </div>
                </section>
                <section class="mainright col-md-2 hidden-sm hidden-xs">
                    <h3>Ranking</h3>
                    <ul id="pjrank">
                        <li><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li><a href="#">6</a></li>
                        <li><a href="#">7</a></li>
                        <li><a href="#">8</a></li>
                        <li><a href="#">9</a></li>
                        <li><a href="#">10</a></li>
                    </ul>
                </section> 
            </div>  
        </div>
    </main>
    <script>
        let pj = Vue.createApp({
                data(){
                    return{
                        page:1,
                        skill: ""
                    }
                },
                methods:{
                    // getLike(pjId){
                    //     let like = 0;
                    //     axios.get('project/getProjectLikeByID?pid='+pjId)
                    //     .then(function (response) {
                    //         like = response.data;
                    //     })
                    //     .catch(function (error) {
                    //         console.log(error);
                    //     });
                    //     return like;
                    // },
                    getpjBylike(){
                        axios.get('project/GetProjectByLike/1')
                        .then(function (response) {
                            document.getElementById("pjrank").innerHTML="";
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var like = data[i].likeamount;
                                if(like == null){
                                    like = 0;
                                }
                                var li = document.createElement("li");
                                li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><span class='number'>"+(i+1)+"</span><p> &nbsp "+pname+"</p></a>";
                                document.getElementById("pjrank").appendChild(li);
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    // async getAllpj(){
                    //     document.getElementById("actiontext").innerText = "Default";
                    //     await axios.get('project/getAllprojects')
                    //     .then(async function (response) {
                    //         document.getElementById("pjlist").innerHTML="";
                    //         var data = response.data;
                    //         console.log(data);
                    //         for(let i=0; i<response.data.length; i++){
                    //             var pjId = data[i].id;
                    //             var pname = data[i].pname;
                    //             var cover = data[i].coverImage;
                    //             var uuid = data[i].owner;
                    //             var li = document.createElement("li");
                    //             if(cover == null || cover == "https://api.crya.me/undefined"){
                    //                 cover = "./images/uoa-logo.jpg";
                    //             }
                    //             // let like = 0;//await pj.getLike(pjId);
                    //             // await axios.get('project/getProjectLikeByID?pid='+pjId)
                    //             // .then(function (res) {
                    //             //     like = res.data;
                    //             // })
                    //             // .catch(function (err) {
                    //             //     console.log(err);
                    //             // });
                    //             // <p><span>&#10084; "+like+" </span></p>
                    //             await axios.get('user/getuser/'+uuid)
                    //                 .then(function (res) {
                    //                     li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p><p>&#128100; "+res.data.username+"</p></a>";
                    //                     document.getElementById("pjlist").appendChild(li);
                    //                 })
                    //                 .catch(function (err) {
                    //                     console.log(err);
                    //                 });
                                
                    //         }
                    //     })
                    //     .catch(function (error) {
                    //         console.log(error);
                    //     });
                    // },
                    getNewpj(){
                        this.page = 1;
                        this.skill = "";
                        document.getElementById("load").style.display = "block";
                        document.getElementById("actiontext").innerText = "Newest";
                        document.getElementById("pjlist").innerHTML="";
                        axios.get("project/getProjectsByUpdateTimeAsc/1")
                        .then(function(response){
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var cover = data[i].coverImage;
                                var uuid = data[i].owner;
                                var like = data[i].likeamount;
                                var uname = data[i].username;
                                var comment = data[i].comment;
                                var award = data[i].award;
                                var li = document.createElement("li");
                                if(cover == null || cover == "https://api.crya.me/undefined"){
                                    cover = "./images/uoa-logo.jpg";
                                }
                                if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }else{
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }
                                document.getElementById("pjlist").appendChild(li);
                                
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    getmoreNewpj(){
                        var that = this;
                        axios.get("project/getProjectsByUpdateTimeAsc/"+this.page)
                        .then(function(response){
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var cover = data[i].coverImage;
                                var uuid = data[i].owner;
                                var like = data[i].likeamount;
                                var uname = data[i].username;
                                var comment = data[i].comment;
                                var award = data[i].award;
                                var li = document.createElement("li");
                                if(cover == null || cover == "https://api.crya.me/undefined"){
                                    cover = "./images/uoa-logo.jpg";
                                }
                                if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }else{
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }                                document.getElementById("pjlist").appendChild(li);
                                
                            }
                            if(data.length == 0){
                                that.page = 1;
                                document.getElementById("load").style.display = "none";
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    getOldpj(){
                        this.page = 1;
                        this.skill = "";
                        document.getElementById("load").style.display = "block";
                        document.getElementById("actiontext").innerText = "Oldest";
                        axios.get("project/getProjectsByUpdateTime/1")
                        .then(function(response){
                            document.getElementById("pjlist").innerHTML="";
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var cover = data[i].coverImage;
                                var uuid = data[i].owner;
                                var like = data[i].likeamount;
                                var uname = data[i].username;
                                var comment = data[i].comment;
                                var award = data[i].award;
                                var li = document.createElement("li");
                                if(cover == null || cover == "https://api.crya.me/undefined"){
                                    cover = "./images/uoa-logo.jpg";
                                }
                                if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }else{
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }                                document.getElementById("pjlist").appendChild(li);
                                
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    getmoreOldpj(){
                        var that = this;
                        axios.get("project/getProjectsByUpdateTime/"+this.page)
                        .then(function(response){
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var cover = data[i].coverImage;
                                var uuid = data[i].owner;
                                var like = data[i].likeamount;
                                var uname = data[i].username;
                                var comment = data[i].comment;
                                var award = data[i].award;
                                var li = document.createElement("li");
                                if(cover == null || cover == "https://api.crya.me/undefined"){
                                    cover = "./images/uoa-logo.jpg";
                                }
                                if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }else{
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }                                document.getElementById("pjlist").appendChild(li);
                                
                            }
                            if(data.length == 0){
                                that.page = 1;
                                document.getElementById("load").style.display = "none";
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    getPoppj(){
                        this.page = 1;
                        this.skill = "";
                        document.getElementById("load").style.display = "block";
                        document.getElementById("actiontext").innerText = "Popular";
                        axios.get("project/GetProjectByLike/1")
                        .then(function(response){
                            document.getElementById("pjlist").innerHTML="";
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var cover = data[i].coverImage;
                                var uuid = data[i].owner;
                                var like = data[i].likeamount;
                                var uname = data[i].username;
                                var comment = data[i].comment;
                                var award = data[i].award;
                                var li = document.createElement("li");
                                if(cover == null || cover == "https://api.crya.me/undefined"){
                                    cover = "./images/uoa-logo.jpg";
                                }
                                if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }else{
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }                                document.getElementById("pjlist").appendChild(li);
                                
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    getmorePoppj(){
                        var that = this;
                        axios.get("project/GetProjectByLike/"+this.page)
                        .then(function(response){
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var cover = data[i].coverImage;
                                var uuid = data[i].owner;
                                var like = data[i].likeamount;
                                var uname = data[i].username;
                                var comment = data[i].comment;
                                var award = data[i].award;
                                var li = document.createElement("li");
                                if(cover == null || cover == "https://api.crya.me/undefined"){
                                    cover = "./images/uoa-logo.jpg";
                                }
                                if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }else{
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }                                document.getElementById("pjlist").appendChild(li);
                                
                            }
                            if(data.length == 0){
                                that.page = 1;
                                document.getElementById("load").style.display = "none";
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    getSkillpj(){
                        this.page = 1;
                        this.skill = "";
                        document.getElementById("load").style.display = "block";
                        document.getElementById("actiontext").innerText = "Newest";
                        var skills = event.target.id;
                        this.skill = skills;
                        // document.getElementById("lall").style = "background-color: #fff;";
                        // document.getElementById("all").style = "color: #AAAAAA";
                        // document.getElementById("l"+skill).style = "padding: 10px 25px; background-color: #aaa; border-radius: 5px;";
                        // document.getElementById(skill).style = "color: #fff";
                        axios.get("project/GetProjectBySkills/1?skills="+skills)
                        .then(function(response){
                            console.log(response.data);
                            document.getElementById("pjlist").innerHTML="";
                            var data = response.data;
                            for(let i=0; i<response.data.length; i++){
                                var pjId = data[i].ID;
                                var pname = data[i].pname;
                                var cover = data[i].coverImage;
                                var uuid = data[i].owner;
                                var like = data[i].likeamount;
                                var uname = data[i].username;
                                var comment = data[i].comment;
                                var award = data[i].award;
                                var li = document.createElement("li");
                                if(cover == null || cover == "https://api.crya.me/undefined"){
                                    cover = "./images/uoa-logo.jpg";
                                }
                                if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }else{
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                }                                
                                document.getElementById("pjlist").appendChild(li);
                                
                            }
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    getmoreSkillpj(){
                        var that = this;
                        axios.get("project/GetProjectBySkills/"+this.page+"?skills="+this.skill)
                        .then(function(response){
                            var data = response.data;
                            if(data == "no such page!"){
                                that.page = 1;
                                document.getElementById("load").style.display = "none";
                            }else{
                                for(let i=0; i<response.data.length; i++){
                                    var pjId = data[i].ID;
                                    var pname = data[i].pname;
                                    var cover = data[i].coverImage;
                                    var uuid = data[i].owner;
                                    var like = data[i].likeamount;
                                    var uname = data[i].username;
                                    var comment = data[i].comment;
                                    var award = data[i].award;
                                    var li = document.createElement("li");
                                    if(cover == null || cover == "https://api.crya.me/undefined"){
                                        cover = "./images/uoa-logo.jpg";
                                    }
                                    if(award>0){
                                    li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img class='awardcover' src='./images/award.svg'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                    }else{
                                        li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p></a><span><a href='.space.html?id="+uuid+"'><p>&#128100; "+uname+"</p></a><p>&#10084; "+like+"</p><p>&#128172; "+comment+"</p><span>";

                                    }                                    
                                    document.getElementById("pjlist").appendChild(li);
                                
                                }
                            }
                            
                        })
                        .catch(function (error) {
                            console.log(error);
                        });
                    },
                    // async searchpj(){
                    //     var key = document.getElementById("keywords").innerText;
                        
                    //     await axios.get("project/getProjectsByPname?pname="+key)
                    //     .then(async function(response){
                    //         document.getElementById("pjlist").innerHTML="";
                    //         var data = response.data;
                    //         for(let i=0; i<response.data.length; i++){
                    //             var pjId = data[i].id;
                    //             var pname = data[i].pname;
                    //             var cover = data[i].coverImage;
                    //             var uuid = data[i].owner;
                    //             var li = document.createElement("li");
                    //             if(cover == null || cover == "https://api.crya.me/undefined"){
                    //                 cover = "./images/uoa-logo.jpg";
                    //             }
                    //             await axios.get('user/getuser/'+uuid)
                    //                 .then(function (res) {
                    //                     li.innerHTML = "<a href='./PJDetail.html?id=" + pjId +"'><img src='"+cover+"'><p>"+pname+"</p><p>&#128100; "+res.data.username+"</p></a>";
                    //                     document.getElementById("pjlist").appendChild(li);
                    //                 })
                    //                 .catch(function (err) {
                    //                     console.log(err);
                    //                 });
                                
                    //         }
                    //     })
                    //     .catch(function (error) {
                    //         console.log(error);
                    //     });
                    // }
                    loadmore(){
                        var sortby = document.getElementById("actiontext").innerText;
                        this.page++;
                        if(this.skill != ""){
                            pj.getmoreSkillpj();
                        }else if(sortby == "Newest"){
                            pj.getmoreNewpj();
                        }else if(sortby == "Oldest"){
                            pj.getmoreOldpj();
                        }else if(sortby == "Popular"){
                            pj.getmorePoppj();
                        }
                    }
                },
                mounted(){
                    this.page = 1;
                    this.getNewpj();
                    // this.getAllpj();
                    this.getpjBylike();
                    

                }
            }).mount('.main')

            

    </script>
    <footer>
        <section id="bottomBody" class=".container">
            <nav class="col-md-6">
                <ul>
                    <h4>Team19</h4>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Help</a></li>
                </ul>
            </nav>
            <nav class="col-md-6">
                <ul>
                    <h4>Profile</h4>
                    <li><a href="./PJDetail.html">My projects</a></li>
                    <li><a href="./space.html">My homepage</a></li>
                    <li><a href="./setting.html">Settings</a></li>
                </ul>
            </nav>
        </section>
        <hr>
        <section id="legalBar"><p>&copy; 2022 Team19.&nbspAll rights reserved. </p></section>    
    </footer>
</body>
</html>